(this.webpackJsonpblogilista_frontend=this.webpackJsonpblogilista_frontend||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n(15),i=n.n(a),l=(n(21),n(6)),o=n(3),u=(n(22),n(4)),s=n.n(u),j="/api/blogs",h=function(){return s.a.get(j).then((function(e){return e.data}))},d=function(e){return s.a.post(j,e).then((function(e){return e.data}))},b=function(e){return s.a.delete("".concat(j,"/").concat(e)).then((function(e){return e.data}))},f=function(e,t){return s.a.put("".concat(j,"/").concat(e),t).then((function(e){return e.data}))},O=function(e){var t=e.text;return Object(c.jsx)("h2",{className:"App-header",children:t})},x=function(e){var t=e.text;return Object(c.jsx)("h3",{className:"App-header",children:t})},v=function(e){var t=e.searchByTitle,n=e.searchByAuthor,r=e.handleSearchTitle,a=e.handleSearchAuthor;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"App-filter",children:[Object(c.jsxs)("div",{children:["Filter by Title: ",Object(c.jsx)("input",{value:t,onChange:r})]}),Object(c.jsxs)("div",{children:["Filter by Author: ",Object(c.jsx)("input",{value:n,onChange:a})]})]})})},p=function(e){var t=e.addBlog,n=e.newTitle,r=e.handleNewTitle,a=e.newAuthor,i=e.handleNewAuthor,l=e.newUrl,o=e.handleNewUrl,u=e.newLikes,s=e.handleNewLikes;return Object(c.jsxs)("form",{onSubmit:t,className:"App-form",children:[Object(c.jsxs)("div",{children:["Title: ",Object(c.jsx)("input",{value:n,onChange:r})]}),Object(c.jsxs)("div",{children:["Author: ",Object(c.jsx)("input",{value:a,onChange:i})]}),Object(c.jsxs)("div",{children:["Url: ",Object(c.jsx)("input",{value:l,onChange:o})]}),Object(c.jsxs)("div",{children:["Likes: ",Object(c.jsx)("input",{value:u,onChange:s})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"Add"})})]})},g=function(e){var t=e.searchBlogList,n=e.removeBlog;return Object(c.jsx)("div",{className:"App-text",children:t.map((function(e){return Object(c.jsxs)("p",{children:["Title: ",e.title,Object(c.jsx)("br",{}),"Author: ",e.author,Object(c.jsx)("br",{}),Object(c.jsx)("a",{href:e.url,className:"App-link",children:e.url}),Object(c.jsx)("br",{}),"Likes: ",e.likes,Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){window.confirm("Remove ".concat(e.title,"?"))&&n(e.id)},children:"Delete"})]},e.title)}))})},w=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),u=Object(o.a)(i,2),s=u[0],j=u[1],w=Object(r.useState)(""),m=Object(o.a)(w,2),A=m[0],N=m[1],k=Object(r.useState)(""),B=Object(o.a)(k,2),S=B[0],L=B[1],T=Object(r.useState)(""),y=Object(o.a)(T,2),C=y[0],U=y[1],F=Object(r.useState)(""),D=Object(o.a)(F,2),E=D[0],J=D[1],_=Object(r.useState)(""),I=Object(o.a)(_,2),R=I[0],q=I[1];Object(r.useEffect)((function(){h().then((function(e){a(e)}))}),[]);var z=function(e,t,c,r){var i=Object(l.a)(Object(l.a)({},e),{},{url:c,likes:r});f(t,i).then((function(e){a(n.map((function(n){return n.id!==t?n:e})))}))},G=n.filter((function(e){return e.title.toLowerCase().includes(E.toLowerCase())}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{text:"List of Blogs"}),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(v,{searchByTitle:E,handleSearchTitle:function(e){J(e.target.value)},searchByAuthor:R,handleSearchAuthor:function(e){q(e.target.value)}}),Object(c.jsx)(x,{text:"Add a new blog"}),Object(c.jsx)(p,{addBlog:function(e){e.preventDefault();var t={title:s,author:A,url:S,likes:C},c=n.find((function(e){return e.title===s}));c?window.confirm("".concat(s," is already added to the blog list, want to update the blog information?"))&&z(c,c.id,S,C):d(t).then((function(e){a(n.concat(e)),j(""),N(""),L(""),U("")})).catch((function(e){var t=Object.values(e.response.data);console.log(t)}))},newTitle:s,handleNewTitle:function(e){j(e.target.value)},newAuthor:A,handleNewAuthor:function(e){N(e.target.value)},newUrl:S,handleNewUrl:function(e){L(e.target.value)},newLikes:C,handleNewLikes:function(e){U(e.target.value)}}),Object(c.jsx)(x,{text:"Blogs"}),Object(c.jsx)(g,{searchBlogList:G,removeBlog:function(e){b(e).then((function(t){a(n.filter((function(t){return t.id!==e})))}))}})]})]})};i.a.render(Object(c.jsx)(w,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f79519ca.chunk.js.map